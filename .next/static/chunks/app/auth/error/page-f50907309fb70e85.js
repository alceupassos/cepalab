(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{24113:function(e,a,r){Promise.resolve().then(r.bind(r,67854))},67854:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return n}});var s=r(57437),t=r(2265),d=r(99376);function n(){let e=(0,d.useSearchParams)().get("error")||"Unknown",[a,r]=(0,t.useState)(null),[n,o]=(0,t.useState)({server:"",port:1445,database:"",user:"",password:""}),[l,i]=(0,t.useState)(""),c=(0,d.useRouter)();return(0,t.useEffect)(()=>{(async()=>{let e=await fetch("/api/creds");if(e.ok){let a=await e.json();r(a),o({server:a.server,port:a.port,database:a.database,user:a.user,password:""})}})()},[]),(0,s.jsxs)("div",{className:"p-8 max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"neu-card rounded-2xl p-6",children:[(0,s.jsx)("div",{className:"text-lg font-semibold glow-orange",children:"Erro de autentica\xe7\xe3o"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground mt-2",children:e})]}),(0,s.jsxs)("div",{className:"neu-card rounded-2xl p-6 mt-4",children:[(0,s.jsx)("div",{className:"text-sm font-semibold glow-orange",children:"Contexto de conex\xe3o"}),a?(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs mt-2",children:[(0,s.jsx)("div",{children:"Servidor"}),(0,s.jsx)("div",{className:"text-[#ff8a1f]",children:a.server}),(0,s.jsx)("div",{children:"Porta"}),(0,s.jsx)("div",{className:"text-[#ff8a1f]",children:a.port}),(0,s.jsx)("div",{children:"Banco"}),(0,s.jsx)("div",{className:"text-[#ff8a1f]",children:a.database}),(0,s.jsx)("div",{children:"Usu\xe1rio"}),(0,s.jsx)("div",{className:"text-[#ff8a1f]",children:a.user}),(0,s.jsx)("div",{children:"Senha (local)"}),(0,s.jsx)("div",{className:"text-[#ff8a1f]",children:a.password?a.password:"[n\xe3o armazenada]"})]}):(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-2",children:"Credenciais do md n\xe3o dispon\xedveis"})]}),(0,s.jsxs)("div",{className:"neu-card rounded-2xl p-6 mt-4",children:[(0,s.jsx)("div",{className:"text-sm font-semibold glow-orange",children:"Redigitar credenciais (salvar no .md)"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-2 mt-2",children:[(0,s.jsx)("input",{className:"rounded-xl bg-transparent border border-white/10 px-3 py-2",placeholder:"Servidor",value:n.server,onChange:e=>o({...n,server:e.target.value})}),(0,s.jsx)("input",{className:"rounded-xl bg-transparent border border-white/10 px-3 py-2",placeholder:"Porta",value:n.port,onChange:e=>o({...n,port:Number(e.target.value)})}),(0,s.jsx)("input",{className:"rounded-xl bg-transparent border border-white/10 px-3 py-2",placeholder:"Database",value:n.database,onChange:e=>o({...n,database:e.target.value})}),(0,s.jsx)("input",{className:"rounded-xl bg-transparent border border-white/10 px-3 py-2",placeholder:"Usu\xe1rio",value:n.user,onChange:e=>o({...n,user:e.target.value})}),(0,s.jsx)("input",{className:"rounded-xl bg-transparent border border-white/10 px-3 py-2",placeholder:"Senha (local)",type:"password",value:n.password,onChange:e=>o({...n,password:e.target.value})})]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,s.jsx)("button",{className:"px-3 py-2 rounded glow-border bg-primary text-primary-foreground",onClick:async()=>{i("");let e=await fetch("/api/creds/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),a=await e.json();e.ok?c.push("/landing"):i("Erro: ".concat(a.error||a.details))},children:"Salvar"}),l&&(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:l})]})]})]})}},99376:function(e,a,r){"use strict";var s=r(35475);r.o(s,"usePathname")&&r.d(a,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(a,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(a,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=24113)}),_N_E=e.O()}]);