(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[388],{57629:function(e,t,a){Promise.resolve().then(a.bind(a,92085))},92085:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var s=a(57437),i=a(2265),r=a(40521),l=a(48614),n=a(70525);let d=(0,a(79205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var o=a(3085),c=a(95252),x=a(31047),m=a(90740),p=a(82431),u=a(92735),h=a(94583),g=a(82472),b=a(77086);let v=e=>fetch(e).then(e=>e.json());function y(){let[e,t]=(0,i.useState)("contas"),[a,y]=(0,i.useState)({}),[j,f]=(0,i.useState)(!1),[w,k]=(0,i.useState)(!1),N=new URLSearchParams(a).toString(),{data:S,error:R,mutate:_}=(0,b.ZP)("/api/cepalab/financeiro/contas".concat(N?"?".concat(N):""),v,{refreshInterval:w?3e4:0}),{data:C,error:D,mutate:E}=(0,b.ZP)("/api/cepalab/financeiro/caixa",v,{refreshInterval:w?3e4:0}),{data:L}=(0,b.ZP)("/api/cepalab/financeiro/summary",v);(0,i.useEffect)(()=>{_()},[a,_]);let Z=(e,t)=>{let s;"contas"===t&&S?s={title:"Relat\xf3rio de Contas a Receber",headers:["N\xfamero Documento","Cliente","Valor Original","Valor Recebido","Valor Saldo","Data Emiss\xe3o","Data Vencimento","Data Recebimento","Status","Dias Atraso","Forma Pagamento"],data:S.map(e=>[e.numero_documento,e.cliente_nome,e.valor_original,e.valor_recebido,e.valor_saldo,new Date(e.data_emissao).toLocaleDateString("pt-BR"),new Date(e.data_vencimento).toLocaleDateString("pt-BR"),e.data_recebimento?new Date(e.data_recebimento).toLocaleDateString("pt-BR"):"",e.status,e.dias_atraso,e.forma_pagamento]),metadata:{generatedAt:new Date().toISOString(),filters:a,totalRecords:S.length}}:"caixa"===t&&C&&(s={title:"Relat\xf3rio de Caixa",headers:["Data Movimento","Saldo Inicial","Total Entradas","Total Sa\xeddas","Saldo Final","Status","Usu\xe1rio"],data:C.map(e=>[new Date(e.data_movimento).toLocaleDateString("pt-BR"),e.saldo_inicial,e.total_entradas,e.total_saidas,e.saldo_final,e.status,e.usuario]),metadata:{generatedAt:new Date().toISOString(),totalRecords:C.length}}),s&&g.$.export(s,e,"financeiro_report")},F=e=>{switch(e){case"quitado":return(0,s.jsx)(n.Z,{className:"w-4 h-4 text-success"});case"atrasado":return(0,s.jsx)(d,{className:"w-4 h-4 text-danger"});case"parcial":return(0,s.jsx)(o.Z,{className:"w-4 h-4 text-warning"});default:return(0,s.jsx)(c.Z,{className:"w-4 h-4 text-info"})}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Gest\xe3o Financeira"}),(0,s.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"Controle de contas a receber, caixa e an\xe1lises financeiras detalhadas"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)(h.lE,{icon:(0,s.jsx)(c.Z,{className:"w-6 h-6"}),title:"Total a Receber",value:"R$ ".concat(((null==L?void 0:L.total_receber)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})),subtitle:"t\xedtulos em aberto",change:{value:8.5,trend:"up"},variant:"info",loading:!L,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valores pendentes a receber"})}),(0,s.jsx)(h.lE,{icon:(0,s.jsx)(n.Z,{className:"w-6 h-6"}),title:"Total Recebido",value:"R$ ".concat(((null==L?void 0:L.total_recebido)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})),subtitle:"no per\xedodo",change:{value:12.3,trend:"up"},variant:"success",loading:!L,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Recebimentos consolidados"})}),(0,s.jsx)(h.lE,{icon:(0,s.jsx)(d,{className:"w-6 h-6"}),title:"Contas Atrasadas",value:(null==L?void 0:L.contas_atrasadas)||0,subtitle:"t\xedtulos vencidos",change:{value:-15.2,trend:"down"},variant:"danger",loading:!L,glow:(null==L?void 0:L.contas_atrasadas)>0,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Aten\xe7\xe3o imediata necess\xe1ria"})}),(0,s.jsx)(h.lE,{icon:(0,s.jsx)(x.Z,{className:"w-6 h-6"}),title:"Saldo em Caixa",value:"R$ ".concat(((null==L?void 0:L.total_saldo_caixa)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})),subtitle:"saldo consolidado",change:{value:5.7,trend:"up"},variant:"info",loading:!L,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Liquidez dispon\xedvel"})})]}),(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 mb-6",children:[(0,s.jsx)("div",{className:"border-b border-slate-200 dark:border-slate-700",children:(0,s.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"contas",name:"Contas a Receber",icon:c.Z},{id:"caixa",name:"Situa\xe7\xe3o do Caixa",icon:x.Z},{id:"analise",name:"An\xe1lise Financeira",icon:n.Z}].map(a=>(0,s.jsxs)("button",{onClick:()=>t(a.id),className:"flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat(e===a.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"),children:[(0,s.jsx)(a.icon,{className:"w-4 h-4"}),a.name]},a.id))})}),(0,s.jsxs)("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsxs)("button",{onClick:()=>f(!j),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4"}),"Filtros"]}),(0,s.jsxs)("button",{onClick:()=>{"contas"===e&&_(),"caixa"===e&&E()},className:"flex items-center gap-2 px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4"}),"Atualizar"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"autoRefresh",checked:w,onChange:e=>k(e.target.checked),className:"rounded border-slate-300"}),(0,s.jsx)("label",{htmlFor:"autoRefresh",className:"text-sm text-slate-600 dark:text-slate-300",children:"Atualiza\xe7\xe3o autom\xe1tica (30s)"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>Z("csv",e),className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"}),"CSV"]}),(0,s.jsxs)("button",{onClick:()=>Z("excel",e),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"}),"Excel"]}),(0,s.jsxs)("button",{onClick:()=>Z("pdf",e),className:"flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"}),"PDF"]})]})]}),(0,s.jsx)(l.M,{children:j&&(0,s.jsx)(r.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"mt-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Per\xedodo"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"date",className:"flex-1 rounded-md border-slate-300 dark:border-slate-600 dark:bg-slate-700",onChange:e=>y(t=>({...t,dataInicio:e.target.value}))}),(0,s.jsx)("input",{type:"date",className:"flex-1 rounded-md border-slate-300 dark:border-slate-600 dark:bg-slate-700",onChange:e=>y(t=>({...t,dataFim:e.target.value}))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),(0,s.jsxs)("select",{className:"w-full rounded-md border-slate-300 dark:border-slate-600 dark:bg-slate-700",onChange:e=>y(t=>({...t,status:e.target.value})),children:[(0,s.jsx)("option",{value:"",children:"Todos"}),(0,s.jsx)("option",{value:"aberto",children:"Aberto"}),(0,s.jsx)("option",{value:"quitado",children:"Quitado"}),(0,s.jsx)("option",{value:"atrasado",children:"Atrasado"}),(0,s.jsx)("option",{value:"parcial",children:"Parcial"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cliente"}),(0,s.jsx)("input",{type:"text",placeholder:"Nome do cliente",className:"w-full rounded-md border-slate-300 dark:border-slate-600 dark:bg-slate-700",onChange:e=>y(t=>({...t,cliente:e.target.value}))})]})]})})})]}),(0,s.jsxs)("div",{className:"p-6",children:["contas"===e&&(0,s.jsxs)("div",{children:[R&&(0,s.jsxs)("div",{className:"text-center text-red-600 dark:text-red-400 py-8",children:["Erro ao carregar contas: ",R.message]}),!S&&!R&&(0,s.jsx)("div",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:"Carregando contas..."}),S&&(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[(0,s.jsx)("thead",{className:"bg-slate-50 dark:bg-slate-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Documento"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Cliente"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Valor Original"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Saldo"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Vencimento"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Atraso"})]})}),(0,s.jsx)("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:S.map((e,t)=>(0,s.jsxs)(r.E.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:e.numero_documento}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:e.cliente_nome}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-white",children:["R$ ",e.valor_original.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:["R$ ",e.valor_saldo.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:new Date(e.data_vencimento).toLocaleDateString("pt-BR")}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[F(e.status),(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("quitado"===e.status?"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100":"aberto"===e.status?"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100":"atrasado"===e.status?"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100":"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100"),children:e.status})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:e.dias_atraso>0?"".concat(e.dias_atraso," dias"):"-"})]},e.id))})]})})]}),"caixa"===e&&(0,s.jsxs)("div",{children:[D&&(0,s.jsxs)("div",{className:"text-center text-red-600 dark:text-red-400 py-8",children:["Erro ao carregar dados do caixa: ",D.message]}),!C&&!D&&(0,s.jsx)("div",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:"Carregando dados do caixa..."}),C&&(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[(0,s.jsx)("thead",{className:"bg-slate-50 dark:bg-slate-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Data"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Saldo Inicial"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Entradas"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Sa\xeddas"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Saldo Final"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Usu\xe1rio"})]})}),(0,s.jsx)("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:C.map((e,t)=>(0,s.jsxs)(r.E.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:new Date(e.data_movimento).toLocaleDateString("pt-BR")}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-white",children:["R$ ",e.saldo_inicial.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-success",children:["R$ ",e.total_entradas.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-danger",children:["R$ ",e.total_saidas.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:["R$ ",e.saldo_final.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("aberto"===e.status?"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-100"),children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:e.usuario})]},e.id))})]})})]}),"analise"===e&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(n.Z,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"An\xe1lise Financeira"}),(0,s.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:"Em breve: gr\xe1ficos interativos e an\xe1lises detalhadas do fluxo de caixa"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-primary-600 mb-2",children:(null==L?void 0:L.contas_aberto)||0}),(0,s.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Contas em Aberto"})]}),(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-success-600 mb-2",children:(null==L?void 0:L.contas_quitadas)||0}),(0,s.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Contas Quitadas"})]}),(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-danger-600 mb-2",children:(null==L?void 0:L.contas_atrasadas)||0}),(0,s.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Contas Atrasadas"})]})]})]})]})]})]})})}},94583:function(e,t,a){"use strict";a.d(t,{lE:function(){return n},sJ:function(){return d}});var s=a(57437),i=a(40521),r=a(48614),l=a(94508);function n(e){let{children:t,className:a,variant:n="default",icon:d,title:o,subtitle:c,value:x,change:m,loading:p=!1,onClick:u,glow:h=!1,animationDelay:g=0}=e;return(0,s.jsx)(r.M,{mode:"wait",children:(0,s.jsxs)(i.E.div,{variants:{hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,delay:g,ease:"easeOut"}},hover:{scale:1.02,y:-4,transition:{duration:.2,ease:"easeOut"}}},initial:"hidden",animate:"visible",whileHover:u?"hover":void 0,className:(0,l.cn)("relative p-6 rounded-xl border-2 transition-all duration-300 overflow-hidden","hover:shadow-xl",{default:"bg-white border-gray-200 text-gray-900",success:"bg-success-50 border-success-200 text-success-900",warning:"bg-warning-50 border-warning-200 text-warning-900",danger:"bg-danger-50 border-danger-200 text-danger-900",info:"bg-info-50 border-info-200 text-info-900"}[n],h&&({default:"hover:shadow-lg hover:shadow-primary/20",success:"hover:shadow-lg hover:shadow-success/20",warning:"hover:shadow-lg hover:shadow-warning/20",danger:"hover:shadow-lg hover:shadow-danger/20",info:"hover:shadow-lg hover:shadow-info/20"})[n],u&&"cursor-pointer",a),onClick:u,children:[h&&(0,s.jsx)(i.E.div,{className:(0,l.cn)("absolute inset-0 opacity-0 transition-opacity duration-300","bg-gradient-to-r from-transparent via-white/30 to-transparent"),whileHover:{opacity:1}}),p&&(0,s.jsx)(i.E.div,{variants:{animate:{backgroundPosition:["-200px 0","200px 0"],transition:{duration:1.5,repeat:1/0,ease:"linear"}}},animate:"animate",className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-30",style:{backgroundSize:"200px 100%",backgroundRepeat:"no-repeat"}}),(0,s.jsxs)("div",{className:"relative z-10",children:[(d||o)&&(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[d&&(0,s.jsx)(i.E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:g+.1,duration:.3},className:(0,l.cn)("p-2 rounded-lg","default"===n&&"bg-gray-100 text-gray-600","success"===n&&"bg-success-100 text-success-600","warning"===n&&"bg-warning-100 text-warning-600","danger"===n&&"bg-danger-100 text-danger-600","info"===n&&"bg-info-100 text-info-600"),children:d}),o&&(0,s.jsx)(i.E.h3,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g+.2,duration:.3},className:"text-sm font-medium text-gray-600",children:o})]}),m&&(0,s.jsx)(e=>{let{trend:t,value:a}=e;return(0,s.jsxs)(i.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:(0,l.cn)("flex items-center gap-1 text-sm font-medium",{up:"text-success",down:"text-danger",neutral:"text-gray-500"}[t]),children:[(0,s.jsx)(i.E.span,{animate:{rotate:"up"===t?0:"down"===t?180:90},transition:{duration:.3},children:{up:"↑",down:"↓",neutral:"→"}[t]}),(0,s.jsxs)("span",{children:[Math.abs(a),"%"]})]})},{trend:m.trend,value:m.value})]}),p?(0,s.jsx)(()=>(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]}),{}):(0,s.jsxs)(s.Fragment,{children:[void 0!==x&&(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g+.3,duration:.4},className:"mb-2",children:[(0,s.jsx)("div",{className:"text-3xl font-bold",children:"number"==typeof x?x.toLocaleString("pt-BR"):x}),c&&(0,s.jsx)(i.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:g+.4},className:"text-sm text-gray-500 mt-1",children:c})]}),t&&(0,s.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:g+.5,duration:.3},children:t})]})]}),u&&(0,s.jsx)(i.E.div,{className:"absolute inset-0 bg-white/20 opacity-0",whileTap:{opacity:1,scale:.95},transition:{duration:.1}})]})})}function d(e){let{children:t,className:a,staggerDelay:r=.1}=e;return(0,s.jsx)(i.E.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:r}}},className:(0,l.cn)("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",a),children:t})}},82472:function(e,t,a){"use strict";a.d(t,{$:function(){return s}});class s{static export(e,t,a){switch(t){case"csv":default:i.toCSV(e,a);break;case"json":i.toJSON(e,a);break;case"pdf":i.toPDF(e,a);break;case"excel":i.toExcel(e,a)}}static exportData(e,t){this.export(e,t.format,t.filename.replace(/\.[^/.]+$/,""))}static prepareSalesData(e,t){var a;return(null==e?void 0:null===(a=e.monthlyData)||void 0===a?void 0:a.map(e=>({Mês:e.month,Vendas:e.sales,Pedidos:e.orders,Ticket_Médio:e.avgTicket})))||[]}static prepareStockData(e){return(null==e?void 0:e.summary)?[{Categoria:"Total Dispon\xedvel",Valor:e.summary.total_disponivel},{Categoria:"Produtos",Valor:e.summary.produtos},{Categoria:"Valor Total",Valor:e.summary.valor_total}]:[]}static prepareFinancialData(e){var t,a,s,i;return(null==e?void 0:e.overdue)?[{Tipo:"Contas Vencidas",Valor:e.overdue.total,Quantidade:e.overdue.qtd},{Tipo:"Contas a Pagar",Valor:(null===(t=e.payable)||void 0===t?void 0:t.total)||0,Quantidade:(null===(a=e.payable)||void 0===a?void 0:a.qtd)||0},{Tipo:"Contas a Receber",Valor:(null===(s=e.receivable)||void 0===s?void 0:s.total)||0,Quantidade:(null===(i=e.receivable)||void 0===i?void 0:i.qtd)||0}]:[]}}class i{static toCSV(e,t){if(!e||0===e.length)return;let a=new Blob([[Object.keys(e[0]).join(","),...e.map(e=>Object.values(e).join(","))].join("\n")],{type:"text/csv"}),s=URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download="".concat(t,".csv"),i.click(),URL.revokeObjectURL(s)}static toJSON(e,t){let a=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download="".concat(t,".json"),i.click(),URL.revokeObjectURL(s)}static toPDF(e,t){console.warn("PDF export not implemented yet, falling back to CSV"),this.toCSV(e,t)}static toExcel(e,t){console.warn("Excel export not implemented yet, falling back to CSV"),this.toCSV(e,t)}}},94508:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var s=a(61994),i=a(53335);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.m6)((0,s.W)(t))}},31047:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},3085:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},70525:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])}},function(e){e.O(0,[467,213,379,971,117,744],function(){return e(e.s=57629)}),_N_E=e.O()}]);