(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[270],{47919:function(e,a,t){Promise.resolve().then(t.bind(t,81741))},81741:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return A},dynamic:function(){return K}});var s=t(57437),i=t(2265),l=t(47625),o=t(5481),r=t(56940),n=t(97059),d=t(62994),c=t(8147),u=t(23263),x=t(75169),v=t(3574),h=t(20407),m=t(77031),g=t(31699),p=t(63611),b=t(94583),y=t(69410),j=t(69240);t(82472);var f=t(40521),N=t(48614),w=t(90740),k=t(82431),E=t(70525);let S=(0,t(79205).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var R=t(95252),C=t(44794),_=t(76865),q=t(3085),B=t(95805),Z=t(94508);function A(){var e,a,t,A,K,L,O,V,T,P,$,M,D,z,I,H,J,F,G,W,Q,U,X,Y,ee,ea,et,es,ei,el,eo,er,en,ed,ec,eu,ex,ev,eh,em,eg,ep,eb,ey,ej,ef,eN,ew;let[ek,eE]=(0,i.useState)({sales:null,stock:null,financial:null,analysis:null}),[eS,eR]=(0,i.useState)(!0),[eC,e_]=(0,i.useState)(!1),[eq,eB]=(0,i.useState)({dateRange:{start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]},status:"all"}),[eZ,eA]=(0,i.useState)({status:"all",sortBy:"name",sortOrder:"asc"}),[eK,eL]=(0,i.useState)("overview"),[eO,eV]=(0,i.useState)(!1),[eT,eP]=(0,i.useState)(!1),[e$,eM]=(0,i.useState)(null),eD=async()=>{try{eR(!0);let[e,a,t]=await Promise.all([fetch("/api/cepalab/sales"),fetch("/api/cepalab/stock"),fetch("/api/cepalab/financial")]),[s,i,l]=await Promise.all([e.json(),a.json(),t.json()]);eE(e=>({...e,sales:s,stock:i,financial:l}))}catch(e){console.error("Error fetching data:",e)}finally{eR(!1)}},ez=async()=>{e_(!0);try{let e=await fetch("/api/cepalab/analyze",{method:"POST"}),a=await e.json();eE(e=>({...e,analysis:a}))}catch(e){console.error("Error running AI analysis:",e)}finally{e_(!1)}};(0,i.useEffect)(()=>{eD()},[]),(0,i.useEffect)(()=>(eT?eM(setInterval(eD,3e4)):e$&&(clearInterval(e$),eM(null)),()=>{e$&&clearInterval(e$)}),[eT]);let eI=((null===(e=ek.sales)||void 0===e?void 0:e.monthly)||[]).map(e=>({label:"".concat(String(e.mes).padStart(2,"0"),"/").concat(e.ano),vendas:Number(e.valor_total||0),pedidos:Number(e.total_vendas||0),ticketMedio:Number(e.valor_total||0)/Number(e.total_vendas||1)})).reverse(),eH=Object.entries(((null===(a=ek.financial)||void 0===a?void 0:a.receivables)||[]).reduce((e,a)=>{let t=a.Sit_nome||"N/A";return e[t]=(e[t]||0)+Number(a.valor||0),e},{})).map(e=>{let[a,t]=e;return{name:a,value:t}}),eJ=["#10b981","#f59e0b","#ef4444","#6366f1","#6b7280"],eF=((null===(t=ek.stock)||void 0===t?void 0:t.products)||[]).sort((e,a)=>Number(a.valor_total||0)-Number(e.valor_total||0)).slice(0,10).map(e=>({name:e.produto,valor:Number(e.valor_total||0),quantidade:Number(e.quantidade||0)})),eG={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}};return(0,s.jsxs)(f.E.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"p-6 space-y-6 min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[(0,s.jsxs)(f.E.div,{variants:eG,className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("img",{src:"/logocepalab.svg",alt:"CEPALAB",className:"h-7 w-auto"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Dashboard CEPALAB"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Vis\xe3o geral integrada dos seus neg\xf3cios"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,s.jsxs)(f.E.button,{onClick:()=>eV(!eO),className:(0,Z.cn)("flex items-center gap-2 px-4 py-2 rounded-lg border transition-all",eO?"bg-primary text-white border-primary":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,s.jsx)(w.Z,{className:"w-4 h-4"}),"Filtros"]}),(0,s.jsxs)(f.E.button,{onClick:()=>eP(!eT),className:(0,Z.cn)("flex items-center gap-2 px-4 py-2 rounded-lg border transition-all",eT?"bg-success text-white border-success":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,s.jsx)(k.Z,{className:(0,Z.cn)("w-4 h-4",eT&&"animate-spin")}),"Auto Atualizar"]}),(0,s.jsxs)(f.E.button,{onClick:ez,disabled:eC,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-white hover:opacity-90 transition-all disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,s.jsx)(E.Z,{className:(0,Z.cn)("w-4 h-4",eC&&"animate-pulse")}),eC?"Analisando...":"IA An\xe1lise"]})]})]}),(0,s.jsx)(N.M,{children:eO&&(0,s.jsx)(f.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(y.u,{onFilterChange:eB}),(0,s.jsx)(j.w,{onFilterChange:eA})]})})}),(0,s.jsx)(f.E.div,{variants:eG,className:"flex items-center gap-2 p-1 bg-gray-100 rounded-lg",children:[{key:"overview",label:"Vis\xe3o Geral",icon:S},{key:"vendas",label:"Vendas",icon:R.Z},{key:"estoque",label:"Estoque",icon:C.Z},{key:"financeiro",label:"Financeiro",icon:E.Z}].map(e=>{let{key:a,label:t,icon:i}=e;return(0,s.jsxs)(f.E.button,{onClick:()=>eL(a),className:(0,Z.cn)("flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium",eK===a?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-white/50"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,s.jsx)(i,{className:"w-4 h-4"}),t]},a)})}),(0,s.jsxs)(N.M,{mode:"wait",children:["overview"===eK&&(0,s.jsxs)(f.E.div,{variants:eG,initial:"hidden",animate:"visible",exit:"hidden",className:"space-y-6",children:[(0,s.jsxs)(b.sJ,{children:[(0,s.jsx)(b.lE,{icon:(0,s.jsx)(R.Z,{className:"w-6 h-6"}),title:"Vendas Totais",value:"R$ ".concat(Number((null===(A=ek.sales)||void 0===A?void 0:A.totalSales)||0).toLocaleString("pt-BR")),subtitle:"".concat(Number((null===(K=ek.sales)||void 0===K?void 0:K.totalOrders)||0)," pedidos"),variant:"success",glow:!0,loading:eS,children:(0,s.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["\xdaltima atualiza\xe7\xe3o: ",new Date().toLocaleTimeString("pt-BR")]})}),(0,s.jsx)(b.lE,{icon:(0,s.jsx)(C.Z,{className:"w-6 h-6"}),title:"Estoque Dispon\xedvel",value:Number((null===(O=ek.stock)||void 0===O?void 0:null===(L=O.summary)||void 0===L?void 0:L.total_disponivel)||0).toLocaleString("pt-BR"),subtitle:"".concat(Number((null===(T=ek.stock)||void 0===T?void 0:null===(V=T.summary)||void 0===V?void 0:V.produtos)||0)," produtos"),variant:"info",glow:!0,loading:eS,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Produtos em estoque"})}),(0,s.jsx)(b.lE,{icon:(0,s.jsx)(_.Z,{className:"w-6 h-6"}),title:"Contas Vencidas",value:"R$ ".concat(Number((null===($=ek.financial)||void 0===$?void 0:null===(P=$.overdue)||void 0===P?void 0:P.total)||0).toLocaleString("pt-BR")),subtitle:"".concat(Number((null===(D=ek.financial)||void 0===D?void 0:null===(M=D.overdue)||void 0===M?void 0:M.qtd)||0)," t\xedtulos"),variant:"danger",glow:!0,loading:eS,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Requer aten\xe7\xe3o imediata"})}),(0,s.jsx)(b.lE,{icon:(0,s.jsx)(q.Z,{className:"w-6 h-6"}),title:"Estoque Negativo",value:Number((null===(I=ek.stock)||void 0===I?void 0:null===(z=I.negatives)||void 0===z?void 0:z.length)||0),subtitle:"produtos com falta",variant:"warning",glow:!0,loading:eS,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Verificar reposi\xe7\xe3o"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(b.lE,{title:"Vendas por M\xeas",loading:eS,children:(0,s.jsx)(l.h,{width:"100%",height:300,children:(0,s.jsxs)(o.T,{data:eI,children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{id:"colorVendas",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),(0,s.jsx)("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),(0,s.jsxs)("linearGradient",{id:"colorPedidos",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),(0,s.jsx)("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),(0,s.jsx)(r.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,s.jsx)(n.K,{dataKey:"label",stroke:"#6b7280"}),(0,s.jsx)(d.B,{stroke:"#6b7280"}),(0,s.jsx)(c.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),(0,s.jsx)(u.u,{type:"monotone",dataKey:"vendas",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorVendas)",strokeWidth:2}),(0,s.jsx)(u.u,{type:"monotone",dataKey:"pedidos",stroke:"#10b981",fillOpacity:1,fill:"url(#colorPedidos)",strokeWidth:2})]})})}),(0,s.jsx)(b.lE,{title:"Contas por Status",loading:eS,children:(0,s.jsx)(l.h,{width:"100%",height:300,children:(0,s.jsxs)(x.u,{children:[(0,s.jsx)("defs",{children:eJ.map((e,a)=>(0,s.jsxs)("linearGradient",{id:"color".concat(a),x1:"0",y1:"0",x2:"1",y2:"1",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:e,stopOpacity:.8}),(0,s.jsx)("stop",{offset:"100%",stopColor:e,stopOpacity:.6})]},a))}),(0,s.jsx)(v.b,{data:eH,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,innerRadius:40,paddingAngle:2,children:eH.map((e,a)=>(0,s.jsx)(h.b,{fill:"url(#color".concat(a,")")},a))}),(0,s.jsx)(c.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})})})]}),(0,s.jsx)(b.lE,{title:"An\xe1lise Inteligente",loading:eC,children:(0,s.jsx)(p.J,{aiSummary:(null===(H=ek.analysis)||void 0===H?void 0:H.aiSummary)||"",analysis:(null===(J=ek.analysis)||void 0===J?void 0:J.analysis)||null,vulns:(null===(F=ek.analysis)||void 0===F?void 0:F.vulns)||null,kpis:(null===(G=ek.analysis)||void 0===G?void 0:G.kpis)||null,securityMetrics:(null===(W=ek.analysis)||void 0===W?void 0:W.securityMetrics)||null,performanceMetrics:(null===(Q=ek.analysis)||void 0===Q?void 0:Q.performanceMetrics)||null,onRegenerate:ez,isLoading:eC})})]},"overview"),"vendas"===eK&&(0,s.jsxs)(f.E.div,{variants:eG,initial:"hidden",animate:"visible",exit:"hidden",className:"space-y-6",children:[(0,s.jsxs)(b.sJ,{children:[(0,s.jsx)(b.lE,{icon:(0,s.jsx)(R.Z,{className:"w-6 h-6"}),title:"Vendas do Per\xedodo",value:"R$ ".concat(Number((null===(U=ek.sales)||void 0===U?void 0:U.totalSales)||0).toLocaleString("pt-BR")),subtitle:"".concat(Number((null===(X=ek.sales)||void 0===X?void 0:X.totalOrders)||0)," pedidos"),change:{value:12.5,trend:"up"},variant:"success",glow:!0,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Performance do per\xedodo selecionado"})}),(0,s.jsx)(b.lE,{icon:(0,s.jsx)(E.Z,{className:"w-6 h-6"}),title:"Ticket M\xe9dio",value:"R$ ".concat((Number((null===(Y=ek.sales)||void 0===Y?void 0:Y.totalSales)||0)/Number((null===(ee=ek.sales)||void 0===ee?void 0:ee.totalOrders)||1)).toLocaleString("pt-BR")),subtitle:"por pedido",change:{value:8.3,trend:"up"},variant:"info",glow:!0,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor m\xe9dio por transa\xe7\xe3o"})}),(0,s.jsx)(b.lE,{icon:(0,s.jsx)(B.Z,{className:"w-6 h-6"}),title:"Clientes Ativos",value:Number((null===(et=ek.sales)||void 0===et?void 0:null===(ea=et.topClients)||void 0===ea?void 0:ea.length)||0),subtitle:"no per\xedodo",change:{value:15.2,trend:"up"},variant:"info",glow:!0,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Base de clientes ativa"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(b.lE,{title:"Top Clientes",subtitle:"Maiores compradores do per\xedodo",children:(0,s.jsx)(l.h,{width:"100%",height:300,children:(0,s.jsxs)(m.v,{data:((null===(es=ek.sales)||void 0===es?void 0:es.topClients)||[]).slice(0,10).map(e=>{var a;return{name:(null===(a=e.nome_cliente)||void 0===a?void 0:a.substring(0,20))+"...",valor:Number(e.valor_total||0)}}),children:[(0,s.jsx)(r.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,s.jsx)(n.K,{dataKey:"name",stroke:"#6b7280",fontSize:12}),(0,s.jsx)(d.B,{stroke:"#6b7280"}),(0,s.jsx)(c.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,s.jsx)(g.$,{dataKey:"valor",fill:"#6366f1",radius:[4,4,0,0]})]})})}),(0,s.jsx)(b.lE,{title:"Vendas por Vendedor",children:(0,s.jsx)(l.h,{width:"100%",height:300,children:(0,s.jsxs)(m.v,{data:((null===(ei=ek.sales)||void 0===ei?void 0:ei.bySeller)||[]).map(e=>({name:e.vendedor,valor:Number(e.valor_total||0)})),children:[(0,s.jsx)(r.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,s.jsx)(n.K,{dataKey:"name",stroke:"#6b7280"}),(0,s.jsx)(d.B,{stroke:"#6b7280"}),(0,s.jsx)(c.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,s.jsx)(g.$,{dataKey:"valor",fill:"#10b981",radius:[4,4,0,0]})]})})})]})]},"vendas"),"estoque"===eK&&(0,s.jsxs)(f.E.div,{variants:eG,initial:"hidden",animate:"visible",exit:"hidden",className:"space-y-6",children:[(0,s.jsxs)(b.sJ,{children:[(0,s.jsx)(b.lE,{icon:(0,s.jsx)(C.Z,{className:"w-6 h-6"}),title:"Total em Estoque",value:Number((null===(eo=ek.stock)||void 0===eo?void 0:null===(el=eo.summary)||void 0===el?void 0:el.total_disponivel)||0).toLocaleString("pt-BR"),subtitle:"".concat(Number((null===(en=ek.stock)||void 0===en?void 0:null===(er=en.summary)||void 0===er?void 0:er.produtos)||0)," produtos"),change:{value:5.7,trend:"up"},variant:"info",glow:!0,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Estoque dispon\xedvel"})}),(0,s.jsx)(b.lE,{icon:(0,s.jsx)(_.Z,{className:"w-6 h-6"}),title:"Produtos Negativos",value:Number((null===(ec=ek.stock)||void 0===ec?void 0:null===(ed=ec.negatives)||void 0===ed?void 0:ed.length)||0),subtitle:"em falta",change:{value:-12.3,trend:"down"},variant:"danger",glow:!0,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Requer reposi\xe7\xe3o urgente"})}),(0,s.jsx)(b.lE,{icon:(0,s.jsx)(E.Z,{className:"w-6 h-6"}),title:"Valor Total",value:"R$ ".concat(Number((null===(ex=ek.stock)||void 0===ex?void 0:null===(eu=ex.summary)||void 0===eu?void 0:eu.valor_total)||0).toLocaleString("pt-BR")),subtitle:"em estoque",change:{value:18.9,trend:"up"},variant:"success",glow:!0,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor total do estoque"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(b.lE,{title:"Top Produtos por Valor",children:(0,s.jsx)(l.h,{width:"100%",height:300,children:(0,s.jsxs)(m.v,{data:eF,children:[(0,s.jsx)(r.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,s.jsx)(n.K,{dataKey:"name",stroke:"#6b7280",fontSize:12,angle:-45,textAnchor:"end",height:80}),(0,s.jsx)(d.B,{stroke:"#6b7280"}),(0,s.jsx)(c.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,s.jsx)(g.$,{dataKey:"valor",fill:"#8b5cf6",radius:[4,4,0,0]})]})})}),(0,s.jsx)(b.lE,{title:"Estoque por Categoria",children:(0,s.jsx)(l.h,{width:"100%",height:300,children:(0,s.jsxs)(x.u,{children:[(0,s.jsx)(v.b,{data:Object.entries(((null===(ev=ek.stock)||void 0===ev?void 0:ev.products)||[]).reduce((e,a)=>{let t=a.categoria||"Sem Categoria";return e[t]=(e[t]||0)+Number(a.valor_total||0),e},{})).map(e=>{let[a,t]=e;return{name:a,value:t}}),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,innerRadius:40,paddingAngle:2,children:eJ.map((e,a)=>(0,s.jsx)(h.b,{fill:e},a))}),(0,s.jsx)(c.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}})]})})})]}),(0,s.jsx)(b.lE,{title:"Alertas de Estoque",children:(0,s.jsx)("div",{className:"space-y-3",children:((null===(eh=ek.stock)||void 0===eh?void 0:eh.negatives)||[]).slice(0,5).map((e,a)=>(0,s.jsxs)(f.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*a},className:"flex items-center justify-between p-3 bg-danger-50 border border-danger-200 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-danger-900",children:e.produto}),(0,s.jsxs)("div",{className:"text-sm text-danger-700",children:["Estoque: ",Number(e.quantidade||0)," | Local: ",e.localizacao]})]}),(0,s.jsxs)("div",{className:"text-danger-900 font-semibold",children:["R$ ",Number(e.valor_total||0).toLocaleString("pt-BR")]})]},e.produto))})})]},"estoque"),"financeiro"===eK&&(0,s.jsxs)(f.E.div,{variants:eG,initial:"hidden",animate:"visible",exit:"hidden",className:"space-y-6",children:[(0,s.jsxs)(b.sJ,{children:[(0,s.jsx)(b.lE,{icon:(0,s.jsx)(R.Z,{className:"w-6 h-6"}),title:"Contas a Receber",value:"R$ ".concat(Number((null===(eg=ek.financial)||void 0===eg?void 0:null===(em=eg.receivables)||void 0===em?void 0:em.reduce((e,a)=>e+Number(a.valor||0),0))||0).toLocaleString("pt-BR")),subtitle:"total em aberto",change:{value:-5.2,trend:"down"},variant:"warning",glow:!0,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pend\xeancias financeiras"})}),(0,s.jsx)(b.lE,{icon:(0,s.jsx)(_.Z,{className:"w-6 h-6"}),title:"Contas Vencidas",value:"R$ ".concat(Number((null===(eb=ek.financial)||void 0===eb?void 0:null===(ep=eb.overdue)||void 0===ep?void 0:ep.total)||0).toLocaleString("pt-BR")),subtitle:"".concat(Number((null===(ej=ek.financial)||void 0===ej?void 0:null===(ey=ej.overdue)||void 0===ey?void 0:ey.qtd)||0)," t\xedtulos"),change:{value:-23.1,trend:"down"},variant:"danger",glow:!0,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Atrasos cr\xedticos"})}),(0,s.jsx)(b.lE,{icon:(0,s.jsx)(E.Z,{className:"w-6 h-6"}),title:"Caixa Atual",value:"R$ ".concat(Number((null===(eN=ek.financial)||void 0===eN?void 0:null===(ef=eN.cashboxes)||void 0===ef?void 0:ef.reduce((e,a)=>e+Number(a.saldo_atual_total||0),0))||0).toLocaleString("pt-BR")),subtitle:"saldo total",change:{value:12.8,trend:"up"},variant:"success",glow:!0,children:(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Liquidez dispon\xedvel"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(b.lE,{title:"Situa\xe7\xe3o dos Caixas",children:(0,s.jsx)("div",{className:"space-y-3",children:((null===(ew=ek.financial)||void 0===ew?void 0:ew.cashboxes)||[]).map((e,a)=>(0,s.jsxs)(f.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*a},className:(0,Z.cn)("flex items-center justify-between p-3 rounded-lg border",0>Number(e.saldo_atual_total)?"bg-danger-50 border-danger-200":"bg-success-50 border-success-200"),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.nome}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.situacao})]}),(0,s.jsxs)("div",{className:(0,Z.cn)("font-semibold",0>Number(e.saldo_atual_total)?"text-danger-900":"text-success-900"),children:["R$ ",Number(e.saldo_atual_total||0).toLocaleString("pt-BR")]})]},e.nome))})}),(0,s.jsx)(b.lE,{title:"Contas por Status",children:(0,s.jsx)(l.h,{width:"100%",height:300,children:(0,s.jsxs)(x.u,{children:[(0,s.jsx)(v.b,{data:eH,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,innerRadius:40,paddingAngle:2,children:eJ.map((e,a)=>(0,s.jsx)(h.b,{fill:e},a))}),(0,s.jsx)(c.u,{formatter:e=>["R$ ".concat(e.toLocaleString("pt-BR")),"Valor"],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,s.jsx)("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"text-lg font-bold",children:"Contas"})]})})})]})]},"financeiro")]})]})}let K="force-dynamic"},95252:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}},function(e){e.O(0,[467,213,682,70,427,611,410,971,117,744],function(){return e(e.s=47919)}),_N_E=e.O()}]);