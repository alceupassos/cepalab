(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[493],{78680:function(e,a,t){Promise.resolve().then(t.bind(t,72621))},72621:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return j}});var s=t(57437),r=t(2265),n=t(40521),i=t(85016),l=t(62613),o=t(62869),c=t(66070),d=t(12339),m=t(35974),x=t(95252),g=t(70525),u=t(95805),p=t(58896),v=t(96215),h=t(33327),y=t(83388);function j(){let[e,a]=(0,r.useState)([]),[t,j]=(0,r.useState)([]),[k,b]=(0,r.useState)(!0),[_,N]=(0,r.useState)("12meses"),[f,C]=(0,r.useState)("todos"),{insights:M,generateInsights:S}=(0,y.j)();(0,r.useEffect)(()=>{let e=[{representante:"Carlos Silva",mes:"Jan/2024",vendas:125e3,comissao:5e3,percentual_comissao:4,clientes_atendidos:45,ticket_medio:2778,meta:12e4,atingimento_meta:104.2},{representante:"Ana Santos",mes:"Jan/2024",vendas:98e3,comissao:3920,percentual_comissao:4,clientes_atendidos:38,ticket_medio:2579,meta:1e5,atingimento_meta:98},{representante:"Pedro Oliveira",mes:"Jan/2024",vendas:156e3,comissao:7800,percentual_comissao:5,clientes_atendidos:52,ticket_medio:3e3,meta:15e4,atingimento_meta:104},{representante:"Maria Costa",mes:"Jan/2024",vendas:134e3,comissao:5360,percentual_comissao:4,clientes_atendidos:41,ticket_medio:3268,meta:13e4,atingimento_meta:103.1},{representante:"Jo\xe3o Ferreira",mes:"Jan/2024",vendas:87e3,comissao:3480,percentual_comissao:4,clientes_atendidos:35,ticket_medio:2486,meta:9e4,atingimento_meta:96.7},{representante:"Carlos Silva",mes:"Fev/2024",vendas:142e3,comissao:5680,percentual_comissao:4,clientes_atendidos:48,ticket_medio:2958,meta:12e4,atingimento_meta:118.3},{representante:"Ana Santos",mes:"Fev/2024",vendas:115e3,comissao:4600,percentual_comissao:4,clientes_atendidos:42,ticket_medio:2738,meta:1e5,atingimento_meta:115},{representante:"Pedro Oliveira",mes:"Fev/2024",vendas:168e3,comissao:8400,percentual_comissao:5,clientes_atendidos:55,ticket_medio:3055,meta:15e4,atingimento_meta:112},{representante:"Maria Costa",mes:"Fev/2024",vendas:145e3,comissao:5800,percentual_comissao:4,clientes_atendidos:44,ticket_medio:3295,meta:13e4,atingimento_meta:111.5},{representante:"Jo\xe3o Ferreira",mes:"Fev/2024",vendas:95e3,comissao:3800,percentual_comissao:4,clientes_atendidos:37,ticket_medio:2568,meta:9e4,atingimento_meta:105.6},{representante:"Carlos Silva",mes:"Mar/2024",vendas:158e3,comissao:6320,percentual_comissao:4,clientes_atendidos:51,ticket_medio:3098,meta:12e4,atingimento_meta:131.7},{representante:"Ana Santos",mes:"Mar/2024",vendas:128e3,comissao:5120,percentual_comissao:4,clientes_atendidos:46,ticket_medio:2783,meta:1e5,atingimento_meta:128},{representante:"Pedro Oliveira",mes:"Mar/2024",vendas:185e3,comissao:9250,percentual_comissao:5,clientes_atendidos:58,ticket_medio:3190,meta:15e4,atingimento_meta:123.3},{representante:"Maria Costa",mes:"Mar/2024",vendas:162e3,comissao:6480,percentual_comissao:4,clientes_atendidos:49,ticket_medio:3306,meta:13e4,atingimento_meta:124.6},{representante:"Jo\xe3o Ferreira",mes:"Mar/2024",vendas:102e3,comissao:4080,percentual_comissao:4,clientes_atendidos:39,ticket_medio:2615,meta:9e4,atingimento_meta:113.3}],t=["Carlos Silva","Ana Santos","Pedro Oliveira","Maria Costa","Jo\xe3o Ferreira"].map((a,t)=>{let s=e.filter(e=>e.representante===a),r=s.reduce((e,a)=>e+a.vendas,0);return{representante:a,total_vendas:r,total_comissao:s.reduce((e,a)=>e+a.comissao,0),media_percentual:s.reduce((e,a)=>e+a.percentual_comissao,0)/s.length,clientes_totais:s.reduce((e,a)=>e+a.clientes_atendidos,0),ranking:t+1}}).sort((e,a)=>a.total_vendas-e.total_vendas);a(e),j(t),b(!1),S("comissoes",e)},[S]);let F=[{title:"Total de Comiss\xf5es",value:"R$ 95.290",change:"+15.2%",icon:x.Z,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-100 dark:bg-green-900"},{title:"Total de Vendas",value:"R$ 2.382.000",change:"+12.8%",icon:g.Z,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900"},{title:"Representantes Ativos",value:"5",change:"0%",icon:u.Z,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100 dark:bg-purple-900"},{title:"M\xe9dia de Atingimento",value:"110.4%",change:"+8.7%",icon:p.Z,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-100 dark:bg-orange-900"}],w=t.slice(0,3),Z=Object.values(e.reduce((e,a)=>(e[a.mes]=e[a.mes]||{name:a.mes,value:0},e[a.mes].value+=a.vendas,e),{})).sort((e,a)=>e.name.localeCompare(a.name)),T=Object.values(e.reduce((e,a)=>(e[a.mes]=e[a.mes]||{name:a.mes,value:0},e[a.mes].value+=a.comissao,e),{})).sort((e,a)=>e.name.localeCompare(a.name)),R=Object.values(e.reduce((e,a)=>{let t=a.representante;return e[t]=e[t]||{name:t,total:0,count:0},e[t].total+=a.ticket_medio,e[t].count+=1,e},{})).map(e=>{let{name:a,total:t,count:s}=e;return{name:a,value:Number((t/s).toFixed(2))}}),A=Object.values(e.reduce((e,a)=>{let t=a.representante;return e[t]=e[t]||{name:t,total:0,count:0},e[t].total+=a.atingimento_meta,e[t].count+=1,e},{})).map(e=>{let{name:a,total:t,count:s}=e;return{name:a,value:Number((t/s).toFixed(2))}}),O=Object.values(e.reduce((e,a)=>{let t=a.representante;return e[t]=e[t]||{name:t,value:0},e[t].value+=a.clientes_atendidos,e},{}));return k?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen dark:bg-gray-900",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,s.jsxs)("div",{className:"container mx-auto p-6 space-y-6 dark:bg-gray-900 dark:text-gray-100",children:[(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Comiss\xf5es Representante"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"An\xe1lise detalhada de comiss\xf5es e performance dos representantes"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("select",{value:f,onChange:e=>C(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-gray-100",children:[(0,s.jsx)("option",{value:"todos",children:"Todos Representantes"}),t.map(e=>(0,s.jsx)("option",{value:e.representante,children:e.representante},e.representante))]}),(0,s.jsxs)("select",{value:_,onChange:e=>N(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-gray-100",children:[(0,s.jsx)("option",{value:"3meses",children:"\xdaltimos 3 meses"}),(0,s.jsx)("option",{value:"6meses",children:"\xdaltimos 6 meses"}),(0,s.jsx)("option",{value:"12meses",children:"\xdaltimos 12 meses"})]}),(0,s.jsxs)(o.z,{variant:"outline",className:"flex items-center gap-2",children:[(0,s.jsx)(v.Z,{className:"h-4 w-4"}),"Exportar"]})]})]}),(0,s.jsx)(l.F,{insights:M,module:"comissoes"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:F.map((e,a)=>(0,s.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:(0,s.jsx)(c.Zb,{className:"hover:shadow-lg transition-shadow duration-300",children:(0,s.jsx)(c.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e.title}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-1",children:e.value}),(0,s.jsx)("p",{className:"text-sm mt-1 ".concat(e.color),children:e.change})]}),(0,s.jsx)("div",{className:"p-3 rounded-full ".concat(e.bgColor),children:(0,s.jsx)(e.icon,{className:"h-6 w-6 ".concat(e.color)})})]})})})},e.title))}),(0,s.jsxs)(c.Zb,{children:[(0,s.jsx)(c.Ol,{children:(0,s.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(h.Z,{className:"h-5 w-5"}),"Top 3 Representantes"]})}),(0,s.jsx)(c.aY,{children:(0,s.jsx)("div",{className:"space-y-4",children:w.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ".concat(0===a?"bg-yellow-500":1===a?"bg-gray-400 dark:bg-gray-500":"bg-orange-600"),children:a+1}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.representante}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.clientes_totais," clientes atendidos"]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"font-bold text-gray-900 dark:text-gray-100",children:["R$ ",e.total_vendas.toLocaleString()]}),(0,s.jsxs)("div",{className:"text-sm text-green-600 dark:text-green-400",children:["R$ ",e.total_comissao.toLocaleString()," comiss\xe3o"]})]})]},e.representante))})})]}),(0,s.jsxs)(d.mQ,{defaultValue:"vendas",className:"space-y-4",children:[(0,s.jsxs)(d.dr,{className:"grid grid-cols-2 lg:grid-cols-4 w-full dark:bg-gray-800",children:[(0,s.jsx)(d.SP,{value:"vendas",className:"dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-gray-100",children:"Vendas & Comiss\xf5es"}),(0,s.jsx)(d.SP,{value:"performance",className:"dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-gray-100",children:"Performance por Rep"}),(0,s.jsx)(d.SP,{value:"metas",className:"dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-gray-100",children:"Metas & Atingimento"}),(0,s.jsx)(d.SP,{value:"analise",className:"dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-gray-100",children:"An\xe1lise Detalhada"})]}),(0,s.jsx)(d.nU,{value:"vendas",className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,s.jsx)(i.F,{title:"Vendas Totais por M\xeas",description:"Soma de vendas dos representantes por m\xeas",data:Z,chartType:"line",module:"comissoes"}),(0,s.jsx)(i.F,{title:"Evolu\xe7\xe3o de Comiss\xf5es",description:"Comiss\xf5es pagas por m\xeas",data:T,chartType:"area",module:"comissoes"})]})}),(0,s.jsx)(d.nU,{value:"performance",className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,s.jsx)(i.F,{title:"Performance por Representante",description:"Total de vendas por representante",data:t.map(e=>({name:e.representante,value:e.total_vendas})),chartType:"bar",module:"comissoes"}),(0,s.jsx)(i.F,{title:"Ticket M\xe9dio por Representante",description:"Ticket m\xe9dio mensal por representante",data:R,chartType:"bar",module:"comissoes"})]})}),(0,s.jsx)(d.nU,{value:"metas",className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,s.jsx)(i.F,{title:"Atingimento de Metas",description:"Percentual de atingimento das metas",data:A,chartType:"bar",module:"comissoes"}),(0,s.jsx)(i.F,{title:"Clientes Atendidos",description:"N\xfamero de clientes atendidos por representante",data:O,chartType:"bar",module:"comissoes"})]})}),(0,s.jsx)(d.nU,{value:"analise",className:"space-y-4",children:(0,s.jsx)(i.F,{title:"Comiss\xf5es por M\xeas",description:"Rela\xe7\xe3o entre comiss\xf5es e meses",data:T,chartType:"line",module:"comissoes"})})]}),(0,s.jsxs)(c.Zb,{children:[(0,s.jsx)(c.Ol,{children:(0,s.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Z,{className:"h-5 w-5"}),"Indicadores de Performance"]})}),(0,s.jsx)(c.aY,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:"4.2%"}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"M\xe9dia de Comiss\xe3o"}),(0,s.jsx)(m.C,{variant:"outline",className:"mt-2 dark:border-gray-600",children:"Meta: 4.5%"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:"110.4%"}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Atingimento de Metas"}),(0,s.jsx)(m.C,{variant:"outline",className:"mt-2 dark:border-gray-600",children:"+8.7% vs trimestre anterior"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:"R$ 2.878"}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Ticket M\xe9dio"}),(0,s.jsx)(m.C,{variant:"outline",className:"mt-2 dark:border-gray-600",children:"+5.2% vs m\xeas anterior"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:"44"}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Clientes/Representante"}),(0,s.jsx)(m.C,{variant:"outline",className:"mt-2 dark:border-gray-600",children:"Meta: 50 clientes"})]})]})})]})]})}},33327:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},95252:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},58896:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},95805:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[467,213,682,70,156,163,178,971,117,744],function(){return e(e.s=78680)}),_N_E=e.O()}]);