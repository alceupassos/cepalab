"use strict";exports.id=541,exports.ids=[541],exports.modules={33545:(e,a,t)=>{t.d(a,{w:()=>g});var r=t(10326),s=t(17577),l=t(30058),o=t(88129),i=t(29163),n=t(50949),c=t(49163),d=t(48705),m=t(41137),u=t(941),x=t(94019),p=t(77863);function g({onFilterChange:e,initialFilters:a}){let[t,g]=(0,s.useState)(!1),[b,h]=(0,s.useState)({status:"all",sortBy:"name",sortOrder:"asc",...a}),[y,v]=(0,s.useState)([]),[j,f]=(0,s.useState)([]),[N,w]=(0,s.useState)([]),k=(a,t)=>{let r={...b,[a]:t};h(r),e(r)},C=Object.entries(b).filter(([e,a])=>"sortBy"!==e&&"sortOrder"!==e&&("status"===e?"all"!==a:void 0!==a&&""!==a)).length;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(l.E.button,{onClick:()=>g(!t),className:(0,p.cn)("flex items-center gap-2 px-4 py-2 rounded-lg border transition-all duration-200","bg-white hover:bg-gray-50 border-gray-200 hover:border-gray-300","shadow-sm hover:shadow-md"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[r.jsx(m.Z,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:"Filtros"}),C>0&&r.jsx(l.E.span,{initial:{scale:0},animate:{scale:1},className:"bg-primary text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:C}),r.jsx(u.Z,{className:(0,p.cn)("w-4 h-4 transition-transform",t&&"rotate-180")})]}),r.jsx(o.M,{children:t&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-20 z-40",onClick:()=>g(!1)}),r.jsx(l.E.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute top-full left-0 mt-2 w-96 bg-white rounded-xl shadow-xl border border-gray-200 z-50 overflow-hidden",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtros de Estoque"}),r.jsx("button",{onClick:()=>g(!1),className:"p-1 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(x.Z,{className:"w-5 h-5 text-gray-500"})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-3",children:[r.jsx(d.Z,{className:"w-4 h-4"}),"Situa\xe7\xe3o do Estoque"]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"all",label:"Todos",icon:r.jsx(d.Z,{className:"w-4 h-4"})},{value:"low-stock",label:"Baixo",icon:r.jsx(i.Z,{className:"w-4 h-4 text-warning"})},{value:"out-of-stock",label:"Zerado",icon:r.jsx(n.Z,{className:"w-4 h-4 text-danger"})},{value:"overstock",label:"Excesso",icon:r.jsx(c.Z,{className:"w-4 h-4 text-info"})}].map(e=>(0,r.jsxs)(l.E.button,{onClick:()=>k("status",e.value),className:(0,p.cn)("flex items-center gap-2 px-3 py-2 rounded-lg border text-sm font-medium transition-all",b.status===e.value?"bg-primary text-white border-primary":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.icon,e.label]},e.value))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Categoria"}),(0,r.jsxs)("select",{value:b.categoria||"",onChange:e=>k("categoria",e.target.value||void 0),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[r.jsx("option",{value:"",children:"Todas as categorias"}),y.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Fornecedor"}),(0,r.jsxs)("select",{value:b.fornecedor||"",onChange:e=>k("fornecedor",e.target.value||void 0),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[r.jsx("option",{value:"",children:"Todos os fornecedores"}),j.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Localiza\xe7\xe3o"}),(0,r.jsxs)("select",{value:b.localizacao||"",onChange:e=>k("localizacao",e.target.value||void 0),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[r.jsx("option",{value:"",children:"Todas as localiza\xe7\xf5es"}),N.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quantidade em Estoque"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"M\xednima"}),r.jsx("input",{type:"number",placeholder:"0",value:b.minQuantity||"",onChange:e=>k("minQuantity",e.target.value?parseFloat(e.target.value):void 0),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"M\xe1xima"}),r.jsx("input",{type:"number",placeholder:"999999",value:b.maxQuantity||"",onChange:e=>k("maxQuantity",e.target.value?parseFloat(e.target.value):void 0),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Valor Total em Estoque"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"M\xednimo"}),r.jsx("input",{type:"number",placeholder:"0,00",step:"0.01",value:b.minValue||"",onChange:e=>k("minValue",e.target.value?parseFloat(e.target.value):void 0),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"M\xe1ximo"}),r.jsx("input",{type:"number",placeholder:"999999,99",step:"0.01",value:b.maxValue||"",onChange:e=>k("maxValue",e.target.value?parseFloat(e.target.value):void 0),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Ordenar por"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("select",{value:b.sortBy,onChange:e=>k("sortBy",e.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[r.jsx("option",{value:"name",children:"Nome"}),r.jsx("option",{value:"quantity",children:"Quantidade"}),r.jsx("option",{value:"value",children:"Valor"}),r.jsx("option",{value:"category",children:"Categoria"})]}),r.jsx(l.E.button,{onClick:()=>k("sortOrder","asc"===b.sortOrder?"desc":"asc"),className:(0,p.cn)("px-3 py-2 border border-gray-200 rounded-lg transition-all","hover:bg-gray-50 focus:ring-2 focus:ring-primary focus:border-transparent"),whileHover:{scale:1.02},whileTap:{scale:.98},title:"asc"===b.sortOrder?"Ordem Crescente":"Ordem Decrescente",children:r.jsx(l.E.div,{animate:{rotate:"desc"===b.sortOrder?180:0},transition:{duration:.2},children:"↓"})})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx(l.E.button,{onClick:()=>{let a={status:"all",sortBy:"name",sortOrder:"asc"};h(a),e(a)},className:"flex-1 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Limpar"}),r.jsx(l.E.button,{onClick:()=>g(!1),className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:opacity-90 transition-opacity font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Aplicar"})]})]})})]})})]})}},86459:(e,a,t)=>{t.d(a,{$:()=>r});class r{static export(e,a,t){switch(a){case"csv":default:s.toCSV(e,t);break;case"json":s.toJSON(e,t);break;case"pdf":s.toPDF(e,t);break;case"excel":s.toExcel(e,t)}}static exportData(e,a){this.export(e,a.format,a.filename.replace(/\.[^/.]+$/,""))}static prepareSalesData(e,a){return e?.monthlyData?.map(e=>({Mês:e.month,Vendas:e.sales,Pedidos:e.orders,Ticket_Médio:e.avgTicket}))||[]}static prepareStockData(e){return e?.summary?[{Categoria:"Total Dispon\xedvel",Valor:e.summary.total_disponivel},{Categoria:"Produtos",Valor:e.summary.produtos},{Categoria:"Valor Total",Valor:e.summary.valor_total}]:[]}static prepareFinancialData(e){return e?.overdue?[{Tipo:"Contas Vencidas",Valor:e.overdue.total,Quantidade:e.overdue.qtd},{Tipo:"Contas a Pagar",Valor:e.payable?.total||0,Quantidade:e.payable?.qtd||0},{Tipo:"Contas a Receber",Valor:e.receivable?.total||0,Quantidade:e.receivable?.qtd||0}]:[]}}class s{static toCSV(e,a){if(!e||0===e.length)return;let t=new Blob([[Object.keys(e[0]).join(","),...e.map(e=>Object.values(e).join(","))].join("\n")],{type:"text/csv"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=`${a}.csv`,s.click(),URL.revokeObjectURL(r)}static toJSON(e,a){let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=`${a}.json`,s.click(),URL.revokeObjectURL(r)}static toPDF(e,a){console.warn("PDF export not implemented yet, falling back to CSV"),this.toCSV(e,a)}static toExcel(e,a){console.warn("Excel export not implemented yet, falling back to CSV"),this.toCSV(e,a)}}},941:(e,a,t)=>{t.d(a,{Z:()=>r});let r=(0,t(62881).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},49163:(e,a,t)=>{t.d(a,{Z:()=>r});let r=(0,t(62881).Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]])},48705:(e,a,t)=>{t.d(a,{Z:()=>r});let r=(0,t(62881).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},29163:(e,a,t)=>{t.d(a,{Z:()=>r});let r=(0,t(62881).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])}};