(()=>{var e={};e.id=1834,e.ids=[1834],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16302:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>i}),r(2184),r(85344),r(11506),r(35866);var s=r(23191),t=r(88716),o=r(37922),l=r.n(o),n=r(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(a,d);let i=["",{children:["cepalab",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2184)),"/Users/alceualvespasssosmac/cepalab/app/cepalab/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,85344)),"/Users/alceualvespasssosmac/cepalab/app/cepalab/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,11506)),"/Users/alceualvespasssosmac/cepalab/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/alceualvespasssosmac/cepalab/app/cepalab/page.tsx"],m="/cepalab/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/cepalab/page",pathname:"/cepalab",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},72125:(e,a,r)=>{Promise.resolve().then(r.bind(r,85684))},87793:()=>{},79670:(e,a,r)=>{Promise.resolve().then(r.bind(r,50600)),Promise.resolve().then(r.bind(r,85084)),Promise.resolve().then(r.t.bind(r,79404,23))},81082:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},85684:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>o});var s=r(10326),t=r(17577);function o(){let[e,a]=(0,t.useState)([]),[r,o]=(0,t.useState)(""),[l,n]=(0,t.useState)([]),[d,i]=(0,t.useState)(null);async function c(e){i(e),n([]);let a=await fetch("/api/sgq/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schema:e.schema_name,object:e.object_name,top:100,server:void 0,port:void 0,user:void 0,password:void 0,database:void 0})});n((await a.json()).rows||[])}let m=e.filter(e=>(e.schema_name+"."+e.object_name+" "+e.object_type).toLowerCase().includes(r.toLowerCase()));return(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold glow-orange",children:"Sistema CEPALAB (SGQ)"}),s.jsx("input",{className:"rounded-xl bg-transparent border border-white/10 px-3 py-2 w-full",placeholder:"Buscar por schema/objeto",value:r,onChange:e=>o(e.target.value)}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"neu-card rounded-2xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold glow-orange mb-2",children:"Objetos"}),s.jsx("ul",{className:"text-xs space-y-1 max-h-80 overflow-auto",children:m.map((e,a)=>s.jsx("li",{children:(0,s.jsxs)("button",{onClick:()=>c(e),className:"text-left w-full px-2 py-1 rounded hover:bg-white/5",children:[s.jsx("span",{className:"text-[#ff8a1f] mr-2",children:e.object_type})," ",e.schema_name,".",e.object_name]})},a))})]}),(0,s.jsxs)("div",{className:"neu-card rounded-2xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold glow-orange mb-2",children:"Pr\xe9via (TOP 100)"}),d?(0,s.jsxs)("div",{className:"text-xs",children:[(0,s.jsxs)("div",{className:"mb-2 text-muted-foreground",children:[d.schema_name,".",d.object_name]}),s.jsx("div",{className:"overflow-auto max-h-80 border border-white/10 rounded",children:(0,s.jsxs)("table",{className:"min-w-full text-[11px]",children:[s.jsx("thead",{children:s.jsx("tr",{children:l[0]&&Object.keys(l[0]).map(e=>s.jsx("th",{className:"px-2 py-1 text-left border-b border-white/10",children:e},e))})}),s.jsx("tbody",{children:l.map((e,a)=>s.jsx("tr",{children:Object.keys(l[0]||{}).map(a=>s.jsx("td",{className:"px-2 py-1 border-b border-white/5",children:String(e[a])},a))},a))})]})})]}):s.jsx("div",{className:"text-xs text-muted-foreground",children:"Selecione um objeto para ver a pr\xe9via."})]})]})]})}},50600:(e,a,r)=>{"use strict";r.d(a,{Menu:()=>n});var s=r(10326),t=r(90434),o=r(35047);let l=[{href:"/cepalab/dashboard",label:"Dashboard"},{href:"/cepalab",label:"Explorar SGQ"},{href:"/auth/login",label:"Autentica\xe7\xe3o"}];function n(){let e=(0,o.usePathname)();return s.jsx("nav",{className:"space-y-1",children:l.map(a=>{let r=e===a.href;return(0,s.jsxs)(t.default,{href:a.href,className:`flex items-center justify-between w-full text-left px-3 py-2 rounded-lg hover:bg-white/5 dark:hover:bg-gray-700 transition ${r?"bg-primary/15 text-primary glow-border":"text-foreground dark:text-gray-200"}`,children:[s.jsx("span",{children:a.label}),r&&s.jsx("span",{className:"text-xs",children:"ativo"})]},a.href)})})}},85084:(e,a,r)=>{"use strict";r.d(a,{useDarkMode:()=>t});var s=r(17577);function t(){let[e,a]=(0,s.useState)(!1);return{isDarkMode:e,toggleDarkMode:()=>{let r=!e;a(r),localStorage.setItem("darkMode",r.toString()),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}}},85344:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>u});var s=r(19510);function t({children:e}){return(0,s.jsxs)("aside",{className:"flex w-full max-w-sm flex-col gap-4 border-r border-muted/60 bg-gradient-to-b from-black/60 to-background dark:from-gray-800 dark:to-gray-900 p-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-lg font-semibold text-primary dark:text-primary-400",children:"ERP ULTRA Inspector"}),s.jsx("p",{className:"text-xs text-muted-foreground dark:text-gray-400",children:"Scanner gr\xe1fico do banco SQL Server em 104.234.224.238:1445"})]}),e]})}var o=r(57371),l=r(68570);let n=(0,l.createProxy)(String.raw`/Users/alceualvespasssosmac/cepalab/hooks/useDarkMode.ts#useDarkMode`);var d=r(14503),i=r(26978);function c(){let{isDarkMode:e,toggleDarkMode:a}=n();return(0,s.jsxs)("header",{className:"flex items-center justify-between border-b border-muted/60 px-6 py-3",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Vis\xe3o geral do ERP ULTRA"}),s.jsx("h2",{className:"text-sm font-medium text-foreground",children:"Mapa funcional, vulnerabilidades e KPIs do banco SQL Server"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:a,className:"p-2 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md active:shadow-inner transform hover:scale-105 active:scale-95 bg-gray-100 dark:bg-gray-800  hover:bg-gray-200 dark:hover:bg-gray-700  border border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900",title:e?"Ativar modo claro":"Ativar modo escuro",children:e?s.jsx(d.Z,{className:"h-4 w-4 text-yellow-500 drop-shadow-sm"}):s.jsx(i.Z,{className:"h-4 w-4 text-gray-600 drop-shadow-sm"})}),s.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs text-primary glow-border",children:"Angra DB Manager \xb7 Intelig\xeancia de Vulnerabilidades & KPIs"}),s.jsx(o.default,{href:"/cepalab",className:"px-3 py-1 rounded glow-border text-xs bg-primary text-primary-foreground",children:"MicroSaaS CEPALAB"})]})]})}let m=(0,l.createProxy)(String.raw`/Users/alceualvespasssosmac/cepalab/components/layout/Menu.tsx#Menu`);function u({children:e}){return(0,s.jsxs)("div",{className:"min-h-screen grid grid-cols-1 md:grid-cols-[320px_1fr] dark:bg-gray-900",children:[s.jsx(t,{children:s.jsx(m,{})}),(0,s.jsxs)("div",{className:"flex flex-col dark:bg-gray-900",children:[s.jsx(c,{}),s.jsx("main",{className:"p-6 dark:bg-gray-900",children:e})]})]})}},2184:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/alceualvespasssosmac/cepalab/app/cepalab/page.tsx#default`)},11506:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});var s=r(19510);function t({children:e}){return s.jsx("html",{lang:"pt-BR",children:s.jsx("body",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:e})})}r(67272)},67272:()=>{}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),s=a.X(0,[9276,4471,5406],()=>r(16302));module.exports=s})();