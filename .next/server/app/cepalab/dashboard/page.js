(()=>{var e={};e.id=9552,e.ids=[9552],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},96116:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>i}),a(51412),a(85344),a(11506),a(35866);var r=a(23191),t=a(88716),l=a(37922),n=a.n(l),d=a(95231),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);a.d(s,o);let i=["",{children:["cepalab",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,51412)),"/Users/alceualvespasssosmac/cepalab/app/cepalab/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,85344)),"/Users/alceualvespasssosmac/cepalab/app/cepalab/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"/Users/alceualvespasssosmac/cepalab/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/alceualvespasssosmac/cepalab/app/cepalab/dashboard/page.tsx"],x="/cepalab/dashboard/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/cepalab/dashboard/page",pathname:"/cepalab/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},50026:(e,s,a)=>{Promise.resolve().then(a.bind(a,70806))},87793:()=>{},79670:(e,s,a)=>{Promise.resolve().then(a.bind(a,50600)),Promise.resolve().then(a.bind(a,85084)),Promise.resolve().then(a.t.bind(a,79404,23))},81082:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,12994,23)),Promise.resolve().then(a.t.bind(a,96114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,79671,23)),Promise.resolve().then(a.t.bind(a,41868,23)),Promise.resolve().then(a.t.bind(a,84759,23))},70806:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>v});var r=a(10326),t=a(17577),l=a(33071),n=a(567),d=a(30660),o=a(14958),i=a(18423),c=a(62637),x=a(9997),m=a(44675),u=a(74390),h=a(20751),p=a(78948),g=a(99630),b=a(49844),j=a(8564),f=a(16549);function v(){let[e,s]=(0,t.useState)(null),[a,v]=(0,t.useState)(null),[y,N]=(0,t.useState)(null),[w,k]=(0,t.useState)(null),[P,S]=(0,t.useState)(!1);async function _(){S(!0);try{let e=await fetch("/api/cepalab/analyze",{method:"POST"}),s=await e.json();k(s)}finally{S(!1)}}let M=(e?.monthly||[]).map(e=>({label:`${String(e.mes).padStart(2,"0")}/${e.ano}`,vendas:Number(e.valor_total||0),pedidos:Number(e.total_vendas||0)})).reverse(),A=Object.entries((y?.receivables||[]).reduce((e,s)=>{let a=s.Sit_nome||"N/A";return e[a]=(e[a]||0)+1,e},{})).map(([e,s])=>({name:e,value:s})),R=["#10b981","#f59e0b","#ef4444","#6366f1","#6b7280"];return(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold glow-orange",children:"Dashboard CEPALAB"}),r.jsx("button",{onClick:_,className:"px-3 py-2 text-sm rounded-lg transition-colors bg-primary text-primary-foreground glow-border hover:bg-[#ff8a1f]",children:"Analisar com IA"})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,r.jsxs)(l.Zb,{className:"neu-card",children:[r.jsx(l.Ol,{className:"pb-2",children:r.jsx(l.ll,{className:"text-xs font-medium glow-orange",children:"Vendas Totais"})}),(0,r.jsxs)(l.aY,{children:[(0,r.jsxs)("div",{className:"text-xl font-bold glow-orange",children:["R$ ",Number(e?.totalSales||0).toLocaleString("pt-BR")]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[Number(e?.totalOrders||0)," pedidos"]})]})]}),(0,r.jsxs)(l.Zb,{className:"neu-card",children:[r.jsx(l.Ol,{className:"pb-2",children:r.jsx(l.ll,{className:"text-xs font-medium glow-orange",children:"Estoque Dispon\xedvel"})}),(0,r.jsxs)(l.aY,{children:[r.jsx("div",{className:"text-xl font-bold glow-orange",children:Number(a?.summary?.total_disponivel||0).toLocaleString("pt-BR")}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[Number(a?.summary?.produtos||0)," produtos"]})]})]}),(0,r.jsxs)(l.Zb,{className:"neu-card",children:[r.jsx(l.Ol,{className:"pb-2",children:r.jsx(l.ll,{className:"text-xs font-medium glow-orange",children:"Contas Vencidas"})}),(0,r.jsxs)(l.aY,{children:[(0,r.jsxs)("div",{className:"text-xl font-bold glow-orange",children:["R$ ",Number(y?.overdue?.total||0).toLocaleString("pt-BR")]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[Number(y?.overdue?.qtd||0)," t\xedtulos"]})]})]}),(0,r.jsxs)(l.Zb,{className:"neu-card",children:[r.jsx(l.Ol,{className:"pb-2",children:r.jsx(l.ll,{className:"text-xs font-medium glow-orange",children:"Estoque Negativo"})}),(0,r.jsxs)(l.aY,{children:[r.jsx("div",{className:"text-xl font-bold glow-orange",children:Number(a?.negatives?.length||0)}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"produtos com falta"})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,r.jsxs)(l.Zb,{children:[r.jsx(l.Ol,{children:r.jsx(l.ll,{className:"flex items-center gap-2",children:"Vendas por M\xeas"})}),r.jsx(l.aY,{children:r.jsx(d.h,{width:"100%",height:300,children:(0,r.jsxs)(o.w,{data:M,children:[r.jsx(i.q,{strokeDasharray:"3 3"}),r.jsx(c.K,{dataKey:"label"}),r.jsx(x.B,{}),r.jsx(m.u,{}),r.jsx(u.x,{type:"monotone",dataKey:"vendas",stroke:"#3b82f6"}),r.jsx(u.x,{type:"monotone",dataKey:"pedidos",stroke:"#10b981"})]})})})]}),(0,r.jsxs)(l.Zb,{children:[r.jsx(l.Ol,{children:r.jsx(l.ll,{className:"flex items-center gap-2",children:"Contas por Status"})}),r.jsx(l.aY,{children:r.jsx(d.h,{width:"100%",height:300,children:(0,r.jsxs)(h.u,{children:[r.jsx(p.b,{data:A,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,children:A.map((e,s)=>r.jsx(g.b,{fill:R[s%R.length]},s))}),r.jsx(m.u,{})]})})})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,r.jsxs)(l.Zb,{children:[r.jsx(l.Ol,{children:r.jsx(l.ll,{children:"Top Clientes"})}),r.jsx(l.aY,{children:r.jsx(d.h,{width:"100%",height:300,children:(0,r.jsxs)(b.v,{data:(e?.topClients||[]).map(e=>({name:e.nome_cliente,valor:Number(e.valor_total||0)})),children:[r.jsx(i.q,{strokeDasharray:"3 3"}),r.jsx(c.K,{dataKey:"name",hide:!0}),r.jsx(x.B,{}),r.jsx(m.u,{}),r.jsx(j.$,{dataKey:"valor",fill:"#6366f1"})]})})})]}),(0,r.jsxs)(l.Zb,{children:[r.jsx(l.Ol,{children:r.jsx(l.ll,{children:"Caixas"})}),r.jsx(l.aY,{children:r.jsx("div",{className:"space-y-2",children:(y?.cashboxes||[]).map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:e.nome}),r.jsx("div",{className:"text-xs text-gray-500",children:e.situacao})]}),(0,r.jsxs)(n.C,{className:0>Number(e.saldo_atual_total)?"bg-red-100 text-red-800":"bg-green-100 text-green-800",children:["R$ ",Number(e.saldo_atual_total||0).toLocaleString("pt-BR")]})]},s))})})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsx(f.J,{aiSummary:w?.aiSummary||"",analysis:w?.analysis||null,vulns:w?.vulns||null,kpis:w?.kpis||null,securityMetrics:w?.securityMetrics||null,performanceMetrics:w?.performanceMetrics||null,onRegenerate:_,isLoading:P})})]})}},50600:(e,s,a)=>{"use strict";a.d(s,{Menu:()=>d});var r=a(10326),t=a(90434),l=a(35047);let n=[{href:"/cepalab/dashboard",label:"Dashboard"},{href:"/cepalab",label:"Explorar SGQ"},{href:"/auth/login",label:"Autentica\xe7\xe3o"}];function d(){let e=(0,l.usePathname)();return r.jsx("nav",{className:"space-y-1",children:n.map(s=>{let a=e===s.href;return(0,r.jsxs)(t.default,{href:s.href,className:`flex items-center justify-between w-full text-left px-3 py-2 rounded-lg hover:bg-white/5 dark:hover:bg-gray-700 transition ${a?"bg-primary/15 text-primary glow-border":"text-foreground dark:text-gray-200"}`,children:[r.jsx("span",{children:s.label}),a&&r.jsx("span",{className:"text-xs",children:"ativo"})]},s.href)})})}},85084:(e,s,a)=>{"use strict";a.d(s,{useDarkMode:()=>t});var r=a(17577);function t(){let[e,s]=(0,r.useState)(!1);return{isDarkMode:e,toggleDarkMode:()=>{let a=!e;s(a),localStorage.setItem("darkMode",a.toString()),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}}},77863:(e,s,a)=>{"use strict";a.d(s,{cn:()=>l});var r=a(41135),t=a(31009);function l(...e){return(0,t.m6)((0,r.W)(e))}},51412:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`/Users/alceualvespasssosmac/cepalab/app/cepalab/dashboard/page.tsx#default`)},85344:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var r=a(19510);function t({children:e}){return(0,r.jsxs)("aside",{className:"flex w-full max-w-sm flex-col gap-4 border-r border-muted/60 bg-gradient-to-b from-black/60 to-background dark:from-gray-800 dark:to-gray-900 p-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-primary dark:text-primary-400",children:"ERP ULTRA Inspector"}),r.jsx("p",{className:"text-xs text-muted-foreground dark:text-gray-400",children:"Scanner gr\xe1fico do banco SQL Server em 104.234.224.238:1445"})]}),e]})}var l=a(57371),n=a(68570);let d=(0,n.createProxy)(String.raw`/Users/alceualvespasssosmac/cepalab/hooks/useDarkMode.ts#useDarkMode`);var o=a(14503),i=a(26978);function c(){let{isDarkMode:e,toggleDarkMode:s}=d();return(0,r.jsxs)("header",{className:"flex items-center justify-between border-b border-muted/60 px-6 py-3",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Vis\xe3o geral do ERP ULTRA"}),r.jsx("h2",{className:"text-sm font-medium text-foreground",children:"Mapa funcional, vulnerabilidades e KPIs do banco SQL Server"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:s,className:"p-2 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md active:shadow-inner transform hover:scale-105 active:scale-95 bg-gray-100 dark:bg-gray-800  hover:bg-gray-200 dark:hover:bg-gray-700  border border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900",title:e?"Ativar modo claro":"Ativar modo escuro",children:e?r.jsx(o.Z,{className:"h-4 w-4 text-yellow-500 drop-shadow-sm"}):r.jsx(i.Z,{className:"h-4 w-4 text-gray-600 drop-shadow-sm"})}),r.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs text-primary glow-border",children:"Angra DB Manager \xb7 Intelig\xeancia de Vulnerabilidades & KPIs"}),r.jsx(l.default,{href:"/cepalab",className:"px-3 py-1 rounded glow-border text-xs bg-primary text-primary-foreground",children:"MicroSaaS CEPALAB"})]})]})}let x=(0,n.createProxy)(String.raw`/Users/alceualvespasssosmac/cepalab/components/layout/Menu.tsx#Menu`);function m({children:e}){return(0,r.jsxs)("div",{className:"min-h-screen grid grid-cols-1 md:grid-cols-[320px_1fr] dark:bg-gray-900",children:[r.jsx(t,{children:r.jsx(x,{})}),(0,r.jsxs)("div",{className:"flex flex-col dark:bg-gray-900",children:[r.jsx(c,{}),r.jsx("main",{className:"p-6 dark:bg-gray-900",children:e})]})]})}},11506:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});var r=a(19510);function t({children:e}){return r.jsx("html",{lang:"pt-BR",children:r.jsx("body",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:e})})}a(67272)},67272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[9276,4471,5406,9105,8330,4958,8606],()=>a(96116));module.exports=r})();