(()=>{var e={};e.id=9552,e.ids=[9552],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},96116:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>i}),s(51412),s(24826),s(11506),s(35866);var r=s(23191),t=s(88716),l=s(37922),n=s.n(l),o=s(95231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(a,d);let i=["",{children:["cepalab",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,51412)),"/Users/alceualvespasssosmac/cepalab/app/cepalab/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,24826)),"/Users/alceualvespasssosmac/cepalab/app/cepalab/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"/Users/alceualvespasssosmac/cepalab/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/alceualvespasssosmac/cepalab/app/cepalab/dashboard/page.tsx"],x="/cepalab/dashboard/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/cepalab/dashboard/page",pathname:"/cepalab/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},50026:(e,a,s)=>{Promise.resolve().then(s.bind(s,70806))},87793:()=>{},32680:(e,a,s)=>{Promise.resolve().then(s.bind(s,50600)),Promise.resolve().then(s.bind(s,43520))},81082:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},70806:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>v,dynamic:()=>y});var r=s(10326),t=s(17577),l=s(33071),n=s(567),o=s(30660),d=s(14958),i=s(18423),c=s(62637),x=s(9997),m=s(44675),u=s(74390),h=s(20751),p=s(78948),g=s(99630),b=s(49844),j=s(8564),f=s(16549);function v(){let[e,a]=(0,t.useState)(null),[s,v]=(0,t.useState)(null),[y,N]=(0,t.useState)(null),[w,P]=(0,t.useState)(null),[k,S]=(0,t.useState)(!1);async function _(){S(!0);try{let e=await fetch("/api/cepalab/analyze",{method:"POST"}),a=await e.json();P(a)}finally{S(!1)}}let A=(e?.monthly||[]).map(e=>({label:`${String(e.mes).padStart(2,"0")}/${e.ano}`,vendas:Number(e.valor_total||0),pedidos:Number(e.total_vendas||0)})).reverse(),M=Object.entries((y?.receivables||[]).reduce((e,a)=>{let s=a.Sit_nome||"N/A";return e[s]=(e[s]||0)+1,e},{})).map(([e,a])=>({name:e,value:a})),R=["#10b981","#f59e0b","#ef4444","#6366f1","#6b7280"];return(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold glow-orange",children:"Dashboard CEPALAB"}),r.jsx("button",{onClick:_,className:"px-3 py-2 text-sm rounded-lg transition-colors bg-primary text-primary-foreground glow-border hover:bg-[#ff8a1f]",children:"Analisar com IA"})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,r.jsxs)(l.Zb,{className:"neu-card",children:[r.jsx(l.Ol,{className:"pb-2",children:r.jsx(l.ll,{className:"text-xs font-medium glow-orange",children:"Vendas Totais"})}),(0,r.jsxs)(l.aY,{children:[(0,r.jsxs)("div",{className:"text-xl font-bold glow-orange",children:["R$ ",Number(e?.totalSales||0).toLocaleString("pt-BR")]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[Number(e?.totalOrders||0)," pedidos"]})]})]}),(0,r.jsxs)(l.Zb,{className:"neu-card",children:[r.jsx(l.Ol,{className:"pb-2",children:r.jsx(l.ll,{className:"text-xs font-medium glow-orange",children:"Estoque Dispon\xedvel"})}),(0,r.jsxs)(l.aY,{children:[r.jsx("div",{className:"text-xl font-bold glow-orange",children:Number(s?.summary?.total_disponivel||0).toLocaleString("pt-BR")}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[Number(s?.summary?.produtos||0)," produtos"]})]})]}),(0,r.jsxs)(l.Zb,{className:"neu-card",children:[r.jsx(l.Ol,{className:"pb-2",children:r.jsx(l.ll,{className:"text-xs font-medium glow-orange",children:"Contas Vencidas"})}),(0,r.jsxs)(l.aY,{children:[(0,r.jsxs)("div",{className:"text-xl font-bold glow-orange",children:["R$ ",Number(y?.overdue?.total||0).toLocaleString("pt-BR")]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[Number(y?.overdue?.qtd||0)," t\xedtulos"]})]})]}),(0,r.jsxs)(l.Zb,{className:"neu-card",children:[r.jsx(l.Ol,{className:"pb-2",children:r.jsx(l.ll,{className:"text-xs font-medium glow-orange",children:"Estoque Negativo"})}),(0,r.jsxs)(l.aY,{children:[r.jsx("div",{className:"text-xl font-bold glow-orange",children:Number(s?.negatives?.length||0)}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"produtos com falta"})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,r.jsxs)(l.Zb,{children:[r.jsx(l.Ol,{children:r.jsx(l.ll,{className:"flex items-center gap-2",children:"Vendas por M\xeas"})}),r.jsx(l.aY,{children:r.jsx(o.h,{width:"100%",height:300,children:(0,r.jsxs)(d.w,{data:A,children:[r.jsx(i.q,{strokeDasharray:"3 3"}),r.jsx(c.K,{dataKey:"label"}),r.jsx(x.B,{}),r.jsx(m.u,{}),r.jsx(u.x,{type:"monotone",dataKey:"vendas",stroke:"#3b82f6"}),r.jsx(u.x,{type:"monotone",dataKey:"pedidos",stroke:"#10b981"})]})})})]}),(0,r.jsxs)(l.Zb,{children:[r.jsx(l.Ol,{children:r.jsx(l.ll,{className:"flex items-center gap-2",children:"Contas por Status"})}),r.jsx(l.aY,{children:r.jsx(o.h,{width:"100%",height:300,children:(0,r.jsxs)(h.u,{children:[r.jsx(p.b,{data:M,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,children:M.map((e,a)=>r.jsx(g.b,{fill:R[a%R.length]},a))}),r.jsx(m.u,{})]})})})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,r.jsxs)(l.Zb,{children:[r.jsx(l.Ol,{children:r.jsx(l.ll,{children:"Top Clientes"})}),r.jsx(l.aY,{children:r.jsx(o.h,{width:"100%",height:300,children:(0,r.jsxs)(b.v,{data:(e?.topClients||[]).map(e=>({name:e.nome_cliente,valor:Number(e.valor_total||0)})),children:[r.jsx(i.q,{strokeDasharray:"3 3"}),r.jsx(c.K,{dataKey:"name",hide:!0}),r.jsx(x.B,{}),r.jsx(m.u,{}),r.jsx(j.$,{dataKey:"valor",fill:"#6366f1"})]})})})]}),(0,r.jsxs)(l.Zb,{children:[r.jsx(l.Ol,{children:r.jsx(l.ll,{children:"Caixas"})}),r.jsx(l.aY,{children:r.jsx("div",{className:"space-y-2",children:(y?.cashboxes||[]).map((e,a)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:e.nome}),r.jsx("div",{className:"text-xs text-gray-500",children:e.situacao})]}),(0,r.jsxs)(n.C,{className:0>Number(e.saldo_atual_total)?"bg-red-100 text-red-800":"bg-green-100 text-green-800",children:["R$ ",Number(e.saldo_atual_total||0).toLocaleString("pt-BR")]})]},a))})})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsx(f.J,{aiSummary:w?.aiSummary||"",analysis:w?.analysis||null,vulns:w?.vulns||null,kpis:w?.kpis||null,securityMetrics:w?.securityMetrics||null,performanceMetrics:w?.performanceMetrics||null,onRegenerate:_,isLoading:k})})]})}let y="force-dynamic"},50600:(e,a,s)=>{"use strict";s.d(a,{Menu:()=>o});var r=s(10326),t=s(90434),l=s(35047);let n=[{href:"/cepalab/dashboard/enhanced",label:"Dashboard"},{href:"/cepalab/relatorios",label:"Relat\xf3rios"},{href:"/cepalab/vendas",label:"Vendas"},{href:"/cepalab/estoque",label:"Estoque"},{href:"/cepalab/financeiro",label:"Financeiro"},{href:"/auth/login",label:"Autentica\xe7\xe3o"}];function o(){let e=(0,l.usePathname)();return r.jsx("nav",{className:"space-y-1",children:n.map(a=>{let s=e===a.href;return(0,r.jsxs)(t.default,{href:a.href,className:`flex items-center justify-between w-full text-left px-3 py-2 rounded-lg hover:bg-white/5 dark:hover:bg-gray-700 transition ${s?"bg-primary/15 text-primary glow-border":"text-foreground dark:text-gray-200"}`,children:[r.jsx("span",{children:a.label}),s&&r.jsx("span",{className:"text-xs",children:"ativo"})]},a.href)})})}},43520:(e,a,s)=>{"use strict";s.d(a,{Topbar:()=>d});var r=s(10326),t=s(90434),l=s(17577),n=s(60850),o=s(72607);function d(){let{isDarkMode:e,toggleDarkMode:a}=function(){let[e,a]=(0,l.useState)(!1);return{isDarkMode:e,toggleDarkMode:()=>{let s=!e;a(s),localStorage.setItem("darkMode",s.toString()),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}}();return(0,r.jsxs)("header",{className:"flex items-center justify-between border-b border-muted/60 px-6 py-3",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("img",{src:"/logocepalab.svg",alt:"CEPALAB",className:"h-6 w-auto"})}),r.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Vis\xe3o geral do ERP ULTRA"}),r.jsx("h2",{className:"text-sm font-medium text-foreground",children:"Mapa funcional, vulnerabilidades e KPIs do banco SQL Server"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:a,className:"p-2 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md active:shadow-inner transform hover:scale-105 active:scale-95 bg-gray-100 dark:bg-gray-800  hover:bg-gray-200 dark:hover:bg-gray-700  border border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900",title:e?"Ativar modo claro":"Ativar modo escuro",children:e?r.jsx(n.Z,{className:"h-4 w-4 text-yellow-500 drop-shadow-sm"}):r.jsx(o.Z,{className:"h-4 w-4 text-gray-600 drop-shadow-sm"})}),r.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs text-primary glow-border",children:"Angra DB Manager \xb7 Intelig\xeancia de Vulnerabilidades & KPIs"}),r.jsx(t.default,{href:"/cepalab",className:"px-3 py-1 rounded glow-border text-xs bg-primary text-primary-foreground",children:"MicroSaaS CEPALAB"})]})]})}},77863:(e,a,s)=>{"use strict";s.d(a,{cn:()=>l});var r=s(41135),t=s(31009);function l(...e){return(0,t.m6)((0,r.W)(e))}},51412:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t,dynamic:()=>l});var r=s(68570);let t=(0,r.createProxy)(String.raw`/Users/alceualvespasssosmac/cepalab/app/cepalab/dashboard/page.tsx#default`),l=(0,r.createProxy)(String.raw`/Users/alceualvespasssosmac/cepalab/app/cepalab/dashboard/page.tsx#dynamic`)},24826:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var r=s(19510);function t({children:e}){return(0,r.jsxs)("aside",{className:"flex w-full max-w-sm flex-col gap-4 border-r border-muted/60 bg-gradient-to-b from-black/60 to-background dark:from-gray-800 dark:to-gray-900 p-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-primary dark:text-primary-400",children:"ERP ULTRA Inspector"}),r.jsx("p",{className:"text-xs text-muted-foreground dark:text-gray-400",children:"Scanner gr\xe1fico do banco SQL Server em 104.234.224.238:1445"})]}),e]})}var l=s(68570);let n=(0,l.createProxy)(String.raw`/Users/alceualvespasssosmac/cepalab/components/layout/Topbar.tsx#Topbar`),o=(0,l.createProxy)(String.raw`/Users/alceualvespasssosmac/cepalab/components/layout/Menu.tsx#Menu`);function d({children:e}){return(0,r.jsxs)("div",{className:"min-h-screen grid grid-cols-1 md:grid-cols-[320px_1fr] dark:bg-gray-900",children:[r.jsx(t,{children:r.jsx(o,{})}),(0,r.jsxs)("div",{className:"flex flex-col dark:bg-gray-900",children:[r.jsx(n,{}),r.jsx("main",{className:"p-6 dark:bg-gray-900",children:e})]})]})}},11506:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});var r=s(19510);function t({children:e}){return r.jsx("html",{lang:"pt-BR",children:r.jsx("body",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:e})})}s(67272)},67272:()=>{}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[9276,4471,6944,9105,8330,4958,8606],()=>s(96116));module.exports=r})();